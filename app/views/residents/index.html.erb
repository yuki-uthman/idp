<% provide(:title, "Residents Database") %>

<h1>Residents Database</h1>

<p class = "new-resident-link"><%= link_to "new resident", "/register", method: :get %></p>
<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col" > Floor</th>
      <th scope="col" > Unit</th>
      <th scope="col" > Name</th>
      <th scope="col" > IC</th>
      <th scope="col" > Phone</th>
      <th scope="col" > Email</th>
      <th scope="col" > </th>
      <th scope="col" > </th>
    </tr>
  </thead>
  <tbody>
    <% @residents.each do |r|%>
    <tr>
      <th scope="row" > <%= r.floor%> </th>
      <th scope="row" > <%= r.unit %> </th>
      <td><%= r.name %></td>
      <td><%= r.ic %></td>
      <td><%= r.phone %></td>
      <td><%= r.email %></td>
      <td><a href="<%= r.floor %>/<%= r.unit %>/edit">update</a></td>
      <td><%= link_to "delete", "/residents/#{r.floor}/#{r.unit}", method: :delete, data: {confirm: "You sure?"}%></td>
    </tr>
    <% end %>

  </tbody>
</table>
